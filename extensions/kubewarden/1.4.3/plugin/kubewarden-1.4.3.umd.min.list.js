(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_4_3"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_4_3"]||[]).push([[7],{"0e6c":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("Banner",{staticClass:"type-banner mb-20 mt-0",attrs:{"data-testid":"kw-ap-list-banner",color:"info",label:e.t("kubewarden.admissionPolicy.description")}}),t("PolicyList",{attrs:{"data-testid":"kw-ap-policy-list",resource:e.resource,rows:e.rows,schema:e.schema}})],1)},a=[],i=s("6418"),l=s("15ca"),n=s("7542"),o={components:{Banner:i["a"],Loading:l["a"],PolicyList:n["a"]},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){await this.$store.dispatch("cluster/findAll",{type:this.resource})},computed:{rows(){return this.$store.getters["cluster/all"](this.resource)}}},c=o,d=s("d802"),u=Object(d["a"])(c,r,a,!1,null,null,null);t["default"]=u.exports},"0f56":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".filter[data-v-2c43d789]{display:flex;flex-direction:row;justify-content:flex-end;align-self:flex-end}.filter>*[data-v-2c43d789]{margin:10px}.filter[data-v-2c43d789]>:first-child{margin-left:0}.filter[data-v-2c43d789]>:last-child{margin-right:0}@media only screen and (min-width:480px){.filter[data-v-2c43d789]{width:100%}}@media only screen and (min-width:1281px){.filter[data-v-2c43d789]{width:75%}}.policy__mode[data-v-2c43d789]{display:flex;align-items:center}.policy__mode i[data-v-2c43d789]{margin-left:5px;font-size:22px;color:var(--warning)}",""]),e.exports=t},1652:function(e,t,s){"use strict";s("e1f8")},"2ed1":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[e.hideBannerDefaults?e._e():t("DefaultsBanner"),t("ResourceTable",{attrs:{schema:e.schema,rows:e.rows,"data-testid":"kw-ps-resource-table"}})],1)},a=[],i=s("907c"),l=s("4ac6"),n=s("15ca"),o=s("126f"),c=s("90cd"),d=s("91ad"),u={components:{DefaultsBanner:d["a"],Loading:n["a"],ResourceTable:o["a"]},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){await this.$store.dispatch("cluster/findAll",{type:this.resource}),await this.$store.dispatch("catalog/load"),this.hideBannerDefaults||(this.apps=await this.$store.dispatch("cluster/findAll",{type:i["a"].APP}))},data(){return{apps:null}},computed:{defaultsApp(){var e;return null===(e=this.apps)||void 0===e?void 0:e.find(e=>{var t,s,r,a;return(null===(t=e.spec)||void 0===t||null===(s=t.chart)||void 0===s||null===(r=s.metadata)||void 0===r||null===(a=r.annotations)||void 0===a?void 0:a[l["c"].RELEASE_NAME])===c["g"].RANCHER_DEFAULTS})},hideBannerDefaults(){return this.$store.getters["kubewarden/hideBannerDefaults"]||!!this.defaultsApp},rows(){return this.$store.getters["cluster/all"](this.resource)}}},p=u,h=s("d802"),f=Object(h["a"])(p,r,a,!1,null,null,null);t["default"]=f.exports},7542:function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"filter"},[t("LabeledSelect",{staticClass:"filter__resources",attrs:{clearable:!0,taggable:!0,multiple:!0,label:"Search by Resource",options:e.resourceOptions},model:{value:e.resources,callback:function(t){e.resources=t},expression:"resources"}}),t("LabeledSelect",{staticClass:"filter__mode",attrs:{clearable:!0,searchable:!1,options:e.modeOptions,multiple:!1,placement:"bottom",label:"Search by Mode"},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}}),t("button",{ref:"btn",staticClass:"btn, btn-sm, role-primary",attrs:{type:"button"},on:{click:e.resetFilter}},[e._v(" "+e._s(e.t("kubewarden.utils.resetFilter"))+" ")])],1),t("ResourceTable",{attrs:{schema:e.schema,rows:e.filteredRows,headers:e.headers}})],1)},a=[],i=s("71d2"),l=s.n(i),n=s("1d19"),o=s("466b"),c=s("126f"),d=s("90cd"),u={components:{LabeledSelect:o["a"],ResourceTable:c["a"]},props:{resource:{type:String,required:!0},rows:{type:Array,required:!0},schema:{type:Object,required:!0}},data(){return{mode:null,resources:null}},created(){this.mode="All"},computed:{headers(){const e=this.$store.getters["type-map/headersFor"](this.schema);if(this.resource===d["f"].CLUSTER_ADMISSION_POLICY){const t={name:"source",label:"Source",value:"source",sort:["source"]};e.splice(2,0,t)}return e},filteredRows(){const e=this.rows||[],t=e.filter(e=>{const t=l()(e.spec.rules),s=t.flatMap(e=>e.resources),r=e.spec.mode;if(this.mode&&"All"!==this.mode&&this.mode!==r)return!1;if(this.resources)for(const a of this.resources)if(!s.includes(a))return!1;return!0});return Object(n["a"])(t,["id"])},modeOptions(){var e;const t=(null===(e=this.rows)||void 0===e?void 0:e.map(e=>{var t;return null===(t=e.spec)||void 0===t?void 0:t.mode}))||[];return t.unshift("All"),[...new Set(t)]},resourceOptions(){return this.flattenRule("resources")}},methods:{flattenRule(e){var t;const s=null===(t=this.rows)||void 0===t?void 0:t.flatMap(t=>{var s;const r=l()(null===(s=t.spec)||void 0===s?void 0:s.rules);return r.flatMap(t=>t[e])});return[...new Set(s)]||!1},hasNamespaceSelector(e){return e.namespaceSelector},resetFilter(){this.$set(this,"resources",null),this.$set(this,"mode","All")}}},p=u,h=(s("1652"),s("d802")),f=Object(h["a"])(p,r,a,!1,null,"2c43d789",null);t["a"]=f.exports},e1f8:function(e,t,s){var r=s("0f56");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("18dbeae6",r,!0,{sourceMap:!1,shadowMode:!1})},e216:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("Banner",{staticClass:"type-banner mb-20 mt-0",attrs:{"data-testid":"kw-cap-list-banner",color:"info",label:e.t("kubewarden.clusterAdmissionPolicy.description")}}),e.kwDefaultsHelmChartSettingsCompatible?e._e():t("DefaultsBanner",{attrs:{mode:"upgrade"}}),t("PolicyList",{attrs:{"data-testid":"kw-cap-policy-list",resource:e.resource,rows:e.rows,schema:e.schema}})],1)},a=[],i=s("907c"),l=s("6418"),n=s("15ca"),o=s("4ac6"),c=s("90cd"),d=s("d1f7"),u=s.n(d);function p(e,t){return!u.a.gt(t,"1.4.1")||u.a.gt(e,"1.9.9")}var h=s("7542"),f=s("91ad"),m={components:{Banner:l["a"],Loading:n["a"],PolicyList:h["a"],DefaultsBanner:f["a"]},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){this.$store.getters["cluster/canList"](i["a"].APP)&&this.$store.dispatch("cluster/findAll",{type:i["a"].APP}),this.$store.getters["cluster/canList"](i["E"])&&this.$store.dispatch("cluster/findAll",{type:i["E"]}),await this.$store.dispatch("cluster/findAll",{type:this.resource})},computed:{rows(){return this.$store.getters["cluster/all"](this.resource)},allApps(){return this.$store.getters["cluster/all"](i["a"].APP)},kubewardenDefaultsApp(){var e;return this.allApps?null===(e=this.allApps)||void 0===e?void 0:e.find(e=>{var t,s,r,a,i,l,n;return(null===(t=e.spec)||void 0===t||null===(s=t.chart)||void 0===s||null===(r=s.metadata)||void 0===r||null===(a=r.annotations)||void 0===a?void 0:a[o["c"].RELEASE_NAME])===c["g"].RANCHER_DEFAULTS||(null===(i=e.spec)||void 0===i||null===(l=i.chart)||void 0===l||null===(n=l.metadata)||void 0===n?void 0:n.name)===c["h"].DEFAULTS}):null},kubewardenExtension(){const e=this.$store.getters["uiplugins/plugins"]||[];return e.find(e=>e.id.includes(c["k"]))},kwDefaultsHelmChartSettingsCompatible(){var e,t,s,r,a;const i=null===(e=this.kubewardenDefaultsApp)||void 0===e||null===(t=e.spec)||void 0===t||null===(s=t.chart)||void 0===s||null===(r=s.metadata)||void 0===r?void 0:r.version,l=null===(a=this.kubewardenExtension)||void 0===a?void 0:a.version;return!i||!l||p(i,l)}}},v=m,b=s("d802"),w=Object(b["a"])(v,r,a,!1,null,null,null);t["default"]=w.exports}}]);
//# sourceMappingURL=kubewarden-1.4.3.umd.min.list.js.map