(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_6_0"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_6_0"]||[]).push([[5],{"0448":function(t,e,a){var r=a("5eaa");e=r(!1),e.push([t.i,".progress[data-v-abc33690]{display:block;border-radius:90px;background-color:var(--progress-bg);height:10px;width:100px}.progress .piece[data-v-abc33690]{display:inline-block;height:10px;border-radius:0;border-right:1px solid var(--progress-divider);vertical-align:top}.progress .piece[data-v-abc33690]:first-child{border-top-left-radius:90px;border-bottom-left-radius:90px}.progress .piece[data-v-abc33690]:last-child{border-top-right-radius:90px;border-bottom-right-radius:90px;border-right:0}.piece.bg-success[data-v-abc33690]:only-child{opacity:.5}",""]),t.exports=e},"0cf2":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return t.show?e("v-popover",{staticClass:"text-center hand",attrs:{placement:"top","open-group":t.row.id,trigger:t.show?"click":"manual",offset:"1"},scopedSlots:t._u([{key:"popover",fn:function(){return[t.show?e("table",{staticClass:"fixed"},[e("tbody",t._l(t.stateParts,(function(a){return e("tr",{key:a.key},[e("td",{staticClass:"text-left pr-20",class:{[a.textColor]:!0}},[t._v(" "+t._s(a.label)+" ")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(a.value)+" ")])])})),0)]):t._e()]},proxy:!0}],null,!1,3622895006)},[e("ProgressBarMulti",{staticClass:"mb-5",attrs:{values:t.colorParts}}),t.linkTo?e("n-link",{attrs:{to:t.linkTo}},[t._v(" "+t._s(t.displayLabel)+" ")]):e("span",[t._v(t._s(t.displayLabel))])],1):e("div",{staticClass:"text-center text-muted"},[t._v(" â€” ")])},s=[],o=a("1d19"),l=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],class:{progress:!0,multi:t.pieces.length>1}},t._l(t.pieces,(function(t,a){return e("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],key:a,class:{piece:!0,[t.color]:!0},style:t.style})})),0)},i=[],n=a("e24b"),c={props:{values:{type:Array,required:!0},colorKey:{type:String,default:"color"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},min:{type:Number,default:0},max:{type:Number,default:null},minPercent:{type:Number,default:5},showZeros:{type:Boolean,default:!1}},computed:{pieces(){const t=[];for(const o of this.values){const e=Object(n["h"])(o,this.colorKey),a=Object(n["h"])(o,this.labelKey),r=Object(n["h"])(o,this.valueKey);(0!==r||this.showZeros)&&t.push({color:e,label:a,value:r})}const e=this.minPercent||0,a=this.min||0;let r=this.max,s=0;this.max||(r=100,t.length&&(r=t.map(t=>t.value).reduce((t,e)=>t+e)));for(const o of t){const t=Math.max(e,u(o.value,a,r));o.percent=t,s+=t}s>100&&(Object(o["a"])(t,"percent",!0)[0].percent-=s-100);for(const o of t)o.style=`width: ${o.percent}%`;return t.filter(t=>t.percent)}}};function u(t,e,a){t=Math.max(e,Math.min(a,t));let r=t/(a-e)*100;return r=Math.floor(100*r)/100,r}var d=c,p=(a("bd92"),a("d802")),v=Object(p["a"])(d,l,i,!1,null,"abc33690",null),h=v.exports,f=a("d892"),b={components:{ProgressBarMulti:h},props:{row:{type:Object,required:!0},label:{type:String,default:null},linkTo:{type:Object,default:null}},async fetch(){this.relatedPolicies=await this.row.allRelatedPolicies()},data(){return{relatedPolicies:[]}},computed:{show(){return this.stateParts.length>0},stateParts(){const t={};for(const a of this.relatedPolicies){var e;const r=null===a||void 0===a||null===(e=a.status)||void 0===e?void 0:e.policyStatus,s=Object(f["b"])(r),o=`${s}/${r}`;t[o]?t[o].value+=1:t[o]={key:o,label:r,color:s.replace(/text-/,"bg-"),textColor:s,value:1,sort:Object(f["f"])(s,r)}}return Object(o["a"])(Object.values(t),"sort:desc")},colorParts(){const t={};for(const e of this.stateParts)t[e.color]?t[e.color].value+=1:t[e.color]={color:e.color,value:e.value,sort:e.sort};return Object(o["a"])(Object.values(t),"sort:desc")},displayLabel(){const t=this.relatedPolicies.length||0;return this.label?`${this.label}, ${t}`:""+t}}},m=b,y=(a("fe75"),Object(p["a"])(m,r,s,!1,null,null,null));e["default"]=y.exports},1006:function(t,e,a){var r=a("5eaa");e=r(!1),e.push([t.i,".col-scale{position:relative}.col-scale .trigger{width:100%}.scale{margin:0;padding:0;line-height:normal}",""]),t.exports=e},"1eb4":function(t,e,a){"use strict";a("8cdd")},2164:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",t._l(t.resourceLabels,(function(a,r){return e("span",{key:r},[t._v(" "+t._s(a)+" ")])})),0)},s=[],o={props:{col:{type:Object,default:()=>{}},value:{type:Array,default:()=>[]}},fetch(){if(this.value){const t=this.value.flatMap(t=>t[this.col.name]);t&&(this.resourceToShow=[...new Set(t)])}},data(){return{resourceToShow:null}},computed:{resourceLabels(){if(this.resourceToShow.length>1){const t=[],e=this.resourceToShow[this.resourceToShow.length-1];return this.resourceToShow.forEach(a=>{a===e?t.push(a):t.push(a+", ")}),t}return this.resourceToShow}}},l=o,i=a("d802"),n=Object(i["a"])(l,r,s,!1,null,null,null);e["default"]=n.exports},2778:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return t.canShow?e("div",{staticClass:"pr-summary"},[e("v-popover",{staticClass:"text-center hand",attrs:{placement:"top","open-group":t.value.id,trigger:"click",offset:"1"},scopedSlots:t._u([{key:"popover",fn:function(){return[e("div",{staticClass:"pr-summary__content"},[e("div",t._l(t.summaryParts,(function(a){return e("div",{key:a.key,staticClass:"counts"},[e("span",{staticClass:"text-left pr-20",class:{[a.textColor]:!0}},[t._v(" "+t._s(a.label)+" ")]),e("span",{staticClass:"text-right"},[t._v(" "+t._s(a.value)+" ")])])})),0)])]},proxy:!0}],null,!1,3136338994)},[[e("div",{staticClass:"pr-summary__container"},t._l(t.summaryParts,(function(a){return e("div",{key:a.key+"-badge"},[a.value?e("div",{staticClass:"badge",class:{[a.bgColor]:!0}},[e("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:a.label,expression:"obj.label"}]},[t._v(t._s(a.value))])]):t._e()])})),0)]],2)],1):e("div")},s=[],o=a("330a"),l=a.n(o),i=a("1d19"),n=a("ad2f"),c={props:{value:{type:Object,default:()=>{}}},computed:{canShow(){if(!l()(this.summary)){const t=[];for(const e of Object.keys(this.summary))this.summary[e]&&t.push(this.summary[e]);return!!t.length}return!1},colorParts(){const t={};for(const e of this.summaryParts)t[e.color]={color:e.color,label:e.label,value:e.value};return Object(i["a"])(Object.values(t),"sort:desc").reverse()},summary(){return Object(n["d"])(this.$store,this.value)},summaryParts(){const t={};for(const[e,a]of Object.entries(this.summary)){const r=Object(n["a"])(e),s=r.includes("sizzle")?r:r.replace(/text-/,"bg-"),o=r.includes("sizzle")?r.concat("-bg"):r.replace(/text-/,"bg-"),l=`${r}/${e}`;t[l]={key:l,label:e.charAt(0).toUpperCase()+e.slice(1),color:s,bgColor:o,textColor:r,value:a,sort:this.policySummarySort(r,e)}}return Object(i["a"])(Object.values(t),"sort:desc").reverse()}},methods:{policySummarySort(t,e){const a={fail:1,pass:2,error:3,warning:4,skip:5,other:6};return t=t.replace(/^(text|bg|sizzle)-/,""),`${a[e]||a["other"]} ${e}`}}},u=c,d=(a("1eb4"),a("d802")),p=Object(d["a"])(u,r,s,!1,null,"80bba75c",null);e["default"]=p.exports},"301c":function(t,e,a){var r=a("0448");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("0ed3").default;s("455a1fa6",r,!0,{sourceMap:!1,shadowMode:!1})},"312b":function(t,e,a){var r=a("5eaa");e=r(!1),e.push([t.i,".deployment[data-v-2a8202a5]{display:flex;align-items:center}.conditions-alert-icon[data-v-2a8202a5]{color:var(--error);margin-left:4px}[data-v-2a8202a5] .labeled-tooltip,[data-v-2a8202a5] .status-icon{position:relative;display:inline;left:auto;right:auto;top:2px;bottom:auto}",""]),t.exports=e},"3e3e":function(t,e,a){"use strict";a("e906")},4509:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[t.value?e("BadgeState",{attrs:{color:t.modeColor,label:t.capitalizedMode}}):t._e()],1)},s=[],o=a("f17a"),l=a("90cd"),i={components:{BadgeState:o["a"]},props:{value:{type:String,default:""}},data(){return{MODE_MAP:l["o"]}},computed:{capitalizedMode(){var t,e;return(null===(t=this.value)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(e=this.value)||void 0===e?void 0:e.slice(1))},modeColor(){return this.MODE_MAP[this.value]}}},n=i,c=a("d802"),u=Object(c["a"])(n,r,s,!1,null,null,null);e["default"]=u.exports},"58f7":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("span",{staticClass:"deployment"},[t.to?e("n-link",{attrs:{to:t.to}},[t._v(" "+t._s(t.value)+" ")]):e("span",[t._v(t._s(t.value))]),t.hasErrors?e("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:{content:`<div>${t.formattedConditions}</div>`,html:!0},expression:"{ content: `<div>${ formattedConditions }</div>`, html: true }"}],staticClass:"conditions-alert-icon icon-error icon-lg"}):t._e()],1)},s=[],o=a("330a"),l=a.n(o),i=a("e24b"),n={props:{reference:{type:String,default:null},row:{type:Object,required:!0},value:{type:String,default:""}},async fetch(){this.deployment=await this.row.matchingDeployment()},data(){return{deployment:null}},computed:{hasErrors(){var t;const e=null===(t=this.flattenedConditions)||void 0===t?void 0:t.filter(t=>t.error);return!l()(e)},flattenedConditions(){var t;return null===(t=this.deployment)||void 0===t?void 0:t.flatMap(t=>t.status.conditions)},formattedConditions(){if(this.hasErrors){const t=this.flattenedConditions.filter(t=>t.error),e=[];return null===t||void 0===t||t.forEach(t=>{e.push(`<p><b>${[t.type]}</b>: ${t.message}</p>`)}),e.toString().replaceAll(",","")}return!1},to(){var t;return this.row&&this.reference?Object(i["h"])(this.row,this.reference):null===(t=this.row)||void 0===t?void 0:t.detailLocation}}},c=n,u=(a("3e3e"),a("d802")),d=Object(u["a"])(c,r,s,!1,null,"2a8202a5",null);e["default"]=d.exports},"85d3":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[t.stateDisplay?e("BadgeState",{attrs:{color:t.stateBackground,label:t.capitalizeMessage(t.stateDisplay)}}):t._e()],1)},s=[],o=a("330a"),l=a.n(o),i=a("907c"),n=a("f17a"),c=a("d892"),u={components:{BadgeState:n["a"]},props:{value:{type:String,required:!0}},async fetch(){await this.$store.dispatch("cluster/findAll",{type:i["H"].DEPLOYMENT})},computed:{allDeployments(){return this.$store.getters["cluster/all"](i["H"].DEPLOYMENT)},deployment(){return l()(this.allDeployments)?null:this.allDeployments.find(t=>t.spec.template.metadata.labels["kubewarden/policy-server"]===this.value)},stateBackground(){return"bg-"+Object(c["a"])(this.stateDisplay)},stateDisplay(){var t,e;return l()(this.deployment)?"pending":null===(t=this.deployment.metadata)||void 0===t||null===(e=t.state)||void 0===e?void 0:e.name}},methods:{capitalizeMessage(t){return(null===t||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===t||void 0===t?void 0:t.slice(1))}}},d=u,p=a("d802"),v=Object(p["a"])(d,r,s,!1,null,null,null);e["default"]=v.exports},"8cdd":function(t,e,a){var r=a("d15b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("0ed3").default;s("4e2310ba",r,!0,{sourceMap:!1,shadowMode:!1})},bd92:function(t,e,a){"use strict";a("301c")},c982:function(t,e,a){var r=a("1006");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("0ed3").default;s("537773a6",r,!0,{sourceMap:!1,shadowMode:!1})},d15b:function(t,e,a){var r=a("5eaa");e=r(!1),e.push([t.i,".pr-summary[data-v-80bba75c]{position:relative}.pr-summary__container[data-v-80bba75c]{display:flex;align-items:center;justify-content:flex-start;width:100%;height:30px}.pr-summary__container .badge[data-v-80bba75c]{padding:4px;margin:2px;border-radius:8px}.pr-summary__container .sizzle-warning-bg[data-v-80bba75c]{background-color:#614ea2;color:#fff}.pr-summary__content[data-v-80bba75c]{z-index:14;width:100%}.pr-summary__content>div[data-v-80bba75c]{padding:10px}.pr-summary__content .counts[data-v-80bba75c]{display:flex;justify-content:space-between}.pr-summary__content .text-warning[data-v-80bba75c]{color:var(--warning)!important}.pr-summary__content .text-darker[data-v-80bba75c]{color:var(--dark)!important}.pr-summary__content .sizzle-warning[data-v-80bba75c]{color:#614ea2}",""]),t.exports=e},e906:function(t,e,a){var r=a("312b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("0ed3").default;s("251a9499",r,!0,{sourceMap:!1,shadowMode:!1})},fe75:function(t,e,a){"use strict";a("c982")}}]);
//# sourceMappingURL=kubewarden-1.6.0.umd.min.formatters.js.map