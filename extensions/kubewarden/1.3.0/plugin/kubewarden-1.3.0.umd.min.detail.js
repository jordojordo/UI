(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_3_0"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_3_0"]||[]).push([[2],{"00ce":function(e,t,r){"use strict";var i=function(){var e=this,t=e._self._c;return e.$fetchState.pending||e.refreshingCharts?t("Loading",{attrs:{mode:"relative"}}):t("div",[e.showChecklist?t("TraceChecklist",{attrs:{"controller-app":e.controllerApp,"controller-chart":e.controllerChart,"tracing-configuration":e.tracingConfiguration,"jaeger-query-svc":e.jaegerQuerySvc,"open-tel-svc":e.openTelSvc}}):!e.showChecklist&&e.emptyPolicies?t("Banner",{attrs:{color:"error",label:e.t("kubewarden.tracing.noRelatedPolicies")}}):e.showTable?t("SortableTable",{attrs:{rows:e.filteredValidations,headers:e.TRACE_HEADERS,"table-actions":!1,"row-actions":!1,"key-field":"id","default-sort-by":"startTime","sub-expandable":!0,"sub-expand-column":!0,"sub-rows":!0,paging:!0,"rows-per-page":e.rowsPerPage},scopedSlots:e._u([{key:"col:mode",fn:function({row:r}){return[t("td",[t("BadgeState",{staticClass:"text-capitalize",attrs:{label:r.mode,color:e.modeColor(r.mode)}})],1)]}},{key:"col:name",fn:function({row:r}){return[t("td",{staticClass:"text-bold"},[e._v(" "+e._s(r.name)+" ")])]}},{key:"col:namespace",fn:function({row:r}){return[t("td",[e._v(" "+e._s(r.namespace?r.namespace:"-")+" ")])]}},{key:"col:startTime",fn:function({row:r}){return[t("td",[e._v(" "+e._s(e.formatTime(r.startTime))+" ")])]}},{key:"col:duration",fn:function({row:r}){return[t("td",[e._v(" "+e._s(e.duration(r.duration))+" ")])]}},{key:"sub-row",fn:function({row:r,fullColspan:i}){return[t("td",{staticClass:"sub-row",attrs:{colspan:i}},[t("div",{staticClass:"details"},[t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" Response Message ")]),t("span",{staticClass:"text-info text-capitalize"},[e._v(" "+e._s(r.responseMessage?r.responseMessage:"-")+" ")])]),t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" Response Code ")]),t("span",{staticClass:"text-info"},[e._v(" "+e._s(r.responseCode?r.responseCode:"-")+" ")])]),t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" Mutated ")]),t("span",{staticClass:"text-info"},[e._v(" "+e._s(r.mutated)+" ")])])])])]}}])}):t("Banner",{attrs:{color:"warning",label:e.t(e.emptyTracesLabel)}})],1)},a=[],o=r("9ce4"),n=r("330a"),s=r.n(n),l=r("050d"),c=r.n(l),u=r("be6d"),d=r.n(u),p=r("907c"),v=r("4ac6"),m=r("2359"),h=r("a8b9"),f=r("f17a"),g=r("6418"),b=r("15ca"),y=r("0fb1"),k=r("5191"),_=r("90cd");function w(e,t){const r=null===e||void 0===e?void 0:e.links["view"],i=r.lastIndexOf("/");return C(r.slice(0,i),"http",null===e||void 0===e?void 0:e.metadata.name,t)}function C(e,t,r,i,a){const o=(t?encodeURIComponent(t)+":":"")+encodeURIComponent(r)+(i?":"+encodeURIComponent(i):""),n="/"+(a||"").replace(/^\/+/g,""),s=e.replace(/\/+$/g,""),l=`${s}/${o}/proxy${n}`;return l}async function S(e){const{store:t,queryService:r,resource:i,relatedPolicies:a,policy:o,time:n}=e;try{const e=w(r,16686),l=[];if(s()(a)){if(!o)throw new Error("Policy is undefined");l.push(A(t,e,o,n))}else null===a||void 0===a||a.forEach(r=>{const i=A(t,e,r,n);i&&l.push(i)});let c=await Promise.all(l);return c=c.flatMap(e=>null===e||void 0===e?void 0:e.data),E(t,c,i,a,o)}catch(l){console.warn("Error fetching Jaeger traces: "+l)}return null}function T(e){var t,r,i;let a=null;switch(null===e||void 0===e?void 0:e.kind){case"ClusterAdmissionPolicy":a="clusterwide-"+(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name);break;case"AdmissionPolicy":a=`namespaced-${null===e||void 0===e||null===(r=e.metadata)||void 0===r?void 0:r.namespace}-${null===e||void 0===e||null===(i=e.metadata)||void 0===i?void 0:i.name}`;break;default:break}return a}function A(e,t,r,i){var a;let o=null;const n=T(r),s=i||"2d",l=`lookback=${s}&tags={"policy_id"%3A"${n}"}`,c="monitor"===(null===r||void 0===r||null===(a=r.spec)||void 0===a?void 0:a.mode)?"policy_eval":"validation";o=`api/traces?service=kubewarden-policy-server&operation=${c}&${l}`;const u=""+(t+o);return e.dispatch("cluster/request",{url:u})}function E(e,t,r,i,a){const o=e.getters["currentCluster"],n=[];function l(r){const i=T(r);return t.reduce((t,a)=>{var n;let l={};const c=a.spans.find(e=>"validation"===e.operationName),u=null===c||void 0===c||null===(n=c.tags)||void 0===n?void 0:n.find(e=>"policy_id"===(null===e||void 0===e?void 0:e.key)&&(null===e||void 0===e?void 0:e.value)===i);if(u){const e=P(c.tags);l={id:a.traceID,allowed:e.allowed,mode:r.spec.mode,name:e.name,operation:e.operation,kind:e.kind,namespace:e.namespace||null,startTime:c.startTime,duration:c.duration,responseMessage:e.response_message,responseCode:e.response_code,mutated:e.mutated}}return s()(l)||(t.push(l),e.dispatch("kubewarden/updatePolicyTraces",{policyName:r.metadata.name,cluster:null===o||void 0===o?void 0:o.id,updatedTrace:l})),t},[])}if(r===_["e"].POLICY_SERVER)for(const c of i){const e=l(c);s()(e)||n.push({policyName:c.metadata.name,cluster:null===o||void 0===o?void 0:o.id,traces:e})}else{const e=l(a);s()(e)||n.push({policyName:a.metadata.name,cluster:null===o||void 0===o?void 0:o.id,traces:e})}return n}function P(e){const t={};for(const r of e)switch(r.type){case"string":t[r.key]=r.value;break;case"int64":t[r.key]=parseInt(r.value,10);break;case"float64":t[r.key]=parseFloat(r.value);break;case"bool":t[r.key]="true"===r.value;break;default:t[r.key]=r.value}return t}var R=r("7d99"),O=r.n(R),x=r("37ef"),j=r.n(x),M=r("e4c5"),L=r.n(M);c.a.extend(L.a);const N=1e3,D=1e3*N,$=60*D,q=60*$,I=24*q,G=[{unit:"d",microseconds:I,ofPrevious:24},{unit:"h",microseconds:q,ofPrevious:60},{unit:"m",microseconds:$,ofPrevious:60},{unit:"s",microseconds:D,ofPrevious:1e3},{unit:"ms",microseconds:N,ofPrevious:1e3},{unit:"Î¼s",microseconds:1,ofPrevious:1e3}];function B(e){const[t,r]=O()(G,({microseconds:t},r)=>r<G.length-1&&t>e);if(1e3===t.ofPrevious)return`${j()(e/t.microseconds,2)}${t.unit}`;const i=Math.floor(e/t.microseconds),a=`${i}${t.unit}`,o=Math.round(e/r.microseconds%t.ofPrevious),n=`${o}${r.unit}`;return 0===o?a:`${a} ${n}`}var V=function(){var e=this,t=e._self._c;return t("div",[t("p",{staticClass:"checklist__description mb-20",attrs:{"data-testid":"kw-tracing-checklist-description"}},[e._v(" "+e._s(e.t("kubewarden.tracing.description"))+" ")]),t("div",{staticClass:"checklist__prereq mb-20"},[t("h2",[e._v(e._s(e.t("kubewarden.tracing.prerequisites.label")))]),t("p",[e._v(e._s(e.t("kubewarden.tracing.prerequisites.description")))])]),t("Banner",{attrs:{color:"warning",label:e.t("kubewarden.tracing.prerequisites.warning")}}),t("div",{staticClass:"checklist__container mt-20 mb-20"},[t("div",{staticClass:"checklist__step mt-20 mb-20",attrs:{"data-testid":"kw-tracing-checklist-step-open-tel"}},[t("i",{staticClass:"icon mr-10",class:{"icon-dot-open":!e.openTelSvc,"icon-checkmark":e.openTelSvc}}),t("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("kubewarden.tracing.openTelemetry",{},!0),expression:"t('kubewarden.tracing.openTelemetry', {}, true)"}]})]),t("div",{staticClass:"checklist__step mb-20",attrs:{"data-testid":"kw-tracing-checklist-step-jaeger"}},[t("i",{staticClass:"icon mr-10",class:{"icon-dot-open":!e.jaegerQuerySvc,"icon-checkmark":e.jaegerQuerySvc}}),t("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("kubewarden.tracing.jaeger",{},!0),expression:"t('kubewarden.tracing.jaeger', {}, true)"}],attrs:{p:""}})]),t("div",{staticClass:"checklist__step mb-20",attrs:{"data-testid":"kw-tracing-checklist-step-config"}},[t("i",{staticClass:"icon mr-10",class:{"icon-dot-open":!e.tracingEnabled,"icon-checkmark":e.tracingEnabled}}),t("div",{staticClass:"checklist__config"},[t("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("kubewarden.tracing.config.label",{},!0),expression:"t('kubewarden.tracing.config.label', {}, true)"}]}),t("button",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.controllerLinkTooltip,expression:"controllerLinkTooltip"}],staticClass:"btn role-primary ml-10",attrs:{"data-testid":"kw-tracing-checklist-step-config-button",disabled:e.controllerLinkDisabled},on:{click:e.controllerAppRoute}},[e._v(" "+e._s(e.t("kubewarden.tracing.config.link"))+" ")])])])])],1)},U=[],Y=r("da25"),Q={props:{controllerApp:{type:Object,default:null},controllerChart:{type:Object,default:null},tracingConfiguration:{type:Object,default:null},jaegerQuerySvc:{type:Object,default:null},openTelSvc:{type:Object,default:null}},components:{Banner:g["a"]},computed:{...Object(o["a"])(["currentCluster"]),controllerLinkTooltip(){return this.openTelSvc&&this.jaegerQuerySvc?this.controllerApp&&this.controllerChart?null:this.t("kubewarden.monitoring.prerequisites.controllerConfig.chartError"):this.t("kubewarden.monitoring.prerequisites.controllerConfig.tooltip")},controllerLinkDisabled(){return!this.openTelSvc||!this.jaegerQuerySvc||!this.controllerApp||!this.controllerChart},tracingEnabled(){return this.tracingConfiguration?this.tracingConfiguration.enabled:null}},methods:{controllerAppRoute(){if(this.controllerApp){var e,t,r,i,a,o,n,s;const l=null===(e=this.controllerApp.spec)||void 0===e||null===(t=e.chart)||void 0===t?void 0:t.metadata,c={[Y["g"]]:null===l||void 0===l||null===(r=l.annotations)||void 0===r?void 0:r[v["c"].NAMESPACE],[Y["f"]]:null===l||void 0===l||null===(i=l.annotations)||void 0===i?void 0:i[v["c"].RELEASE_NAME],[Y["q"]]:null===l||void 0===l||null===(a=l.annotations)||void 0===a?void 0:a["catalog.cattle.io/upstream-version"],[Y["i"]]:null===l||void 0===l||null===(o=l.annotations)||void 0===o?void 0:o[v["c"].SOURCE_REPO_NAME],[Y["j"]]:null===l||void 0===l||null===(n=l.annotations)||void 0===n?void 0:n[v["c"].SOURCE_REPO_TYPE],[Y["d"]]:null===l||void 0===l?void 0:l.name};this.$router.push({name:"c-cluster-apps-charts-install",params:{cluster:(null===(s=this.currentCluster)||void 0===s?void 0:s.id)||"_"},query:c})}}}},H=Q,z=(r("019e"),r("d802")),F=Object(z["a"])(H,V,U,!1,null,"3d7bccd0",null),K=F.exports;c.a.extend(d.a);var J={props:{resource:{type:String,required:!0},relatedPolicies:{type:Array,default:()=>[]},policy:{type:Object,default:()=>{}}},components:{BadgeState:f["a"],Banner:g["a"],Loading:b["a"],SortableTable:y["b"],TraceChecklist:K},mixins:[m["a"]],async fetch(){const e=[p["a"].APP,p["a"].CLUSTER_REPO,p["y"]],t=[];for(const r of e)this.$store.getters["cluster/canList"](r)&&t.push(this.$fetchType(r));if(await Object(h["a"])(t),this.jaegerQuerySvc){const e={store:this.$store,queryService:this.jaegerQuerySvc,resource:this.resource,relatedPolicies:null,policy:null};this.resource===_["e"].POLICY_SERVER?e.relatedPolicies=this.relatedPolicies:e.policy=this.policy,this.specificValidations=await S(e)}},data(){return{MODE_MAP:_["n"],TRACE_HEADERS:k["g"],OPERATION_MAP:_["o"],specificValidations:null}},computed:{...Object(o["a"])(["currentCluster"]),...Object(o["a"])({charts:"catalog/charts",refreshingCharts:"kubewarden/refreshingCharts"}),allApps(){return this.$store.getters["cluster/all"](p["a"].APP)},allServices(){return this.$store.getters["cluster/all"](p["y"])},controllerApp(){var e;return null===(e=this.allApps)||void 0===e?void 0:e.find(e=>{var t,r,i;return(null===e||void 0===e||null===(t=e.spec)||void 0===t||null===(r=t.chart)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.name)===_["g"].CONTROLLER})},controllerChart(){var e;return null===(e=this.charts)||void 0===e?void 0:e.find(e=>e.chartName===_["g"].CONTROLLER)},groupField(){return this.isPolicyServer?"policy_id":null},isPolicyServer(){return this.resource===_["e"].POLICY_SERVER},emptyPolicies(){return this.resource===_["e"].POLICY_SERVER?s()(this.relatedPolicies):s()(this.policy)},emptyTraces(){return s()(this.filteredValidations)},emptyTracesLabel(){return this.resource===_["e"].POLICY_SERVER?"kubewarden.tracing.noRelatedTraces":"kubewarden.tracing.noTraces"},rowsPerPage(){return this.isPolicyServer?40:20},tracingConfiguration(){var e,t,r,i;return this.controllerApp?null===(e=this.controllerApp)||void 0===e||null===(t=e.spec)||void 0===t||null===(r=t.values)||void 0===r||null===(i=r.telemetry)||void 0===i?void 0:i.tracing:null},tracingEnabled(){return this.tracingConfiguration?this.tracingConfiguration.enabled:null},jaegerServices(){var e;return null===(e=this.allServices)||void 0===e?void 0:e.filter(e=>{var t,r;return"jaeger"===(null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r["app.kubernetes.io/part-of"])})},jaegerQuerySvc(){return s()(this.jaegerServices)?null:this.jaegerServices.find(e=>{var t;const r=null===e||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.ports;if(r.length)return r.find(e=>16685===e.port||16686===e.port)})},openTelemetryServices(){var e;return null===(e=this.allServices)||void 0===e?void 0:e.filter(e=>{var t,r;return"opentelemetry-operator"===(null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r[v["g"].MANAGED_NAME])})},openTelSvc(){return s()(this.openTelemetryServices)?null:this.openTelemetryServices.find(e=>{var t;const r=null===e||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.ports;if(r.length)return r.find(e=>8080===e.port)})},showChecklist(){var e;return!this.openTelSvc||!this.jaegerQuerySvc||!(null!==(e=this.tracingConfiguration)&&void 0!==e&&e.enabled)},showTable(){return!this.emptyPolicies&&!this.showChecklist&&!this.emptyTraces},filteredValidations(){return s()(this.specificValidations)?[]:this.specificValidations.flatMap(e=>{var t;return(null===(t=this.currentCluster)||void 0===t?void 0:t.id)===e.cluster?e.traces:[]})}},methods:{modeColor(e){return this.MODE_MAP[e]},opColor(e){return this.OPERATION_MAP[e]},formatTime(e){return c()(e/1e3)},duration(e){return B(e)}}},W=J,X=(r("c31d"),Object(z["a"])(W,i,a,!1,null,"23448538",null));t["a"]=X.exports},"019e":function(e,t,r){"use strict";r("a3bd")},"0929":function(e,t,r){"use strict";r("50ef")},"284d":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[e.policyGauges?[t("div",{staticClass:"row"},[[t("div",{staticClass:"col span-6"},[t("h3",{attrs:{"data-testid":"kw-ps-detail-status-title"}},[e._v(" "+e._s(e.t("kubewarden.policyServer.policyGauge.byStatus"))+" ")]),t("div",{staticClass:"gauges mb-20"},e._l(e.policyGauges,(function(r,i){return t("CountGauge",{key:i,attrs:{total:e.relatedPoliciesTotal,useful:r.count||0,graphical:!1,"primary-color-var":"--sizzle-"+r.color,name:i}})})),1)])],e.emptyTraces?e._e():[t("div",{staticClass:"col span-6"},[t("h3",[e._v(" "+e._s(e.t("kubewarden.policyServer.policyGauge.traces"))+" ")]),t("div",{staticClass:"gauges mb-20"},e._l(e.tracesGauges,(function(r,i){return t("CountGauge",{key:i,attrs:{useful:r.count||0,total:e.traceGaugeTotals,graphical:!1,"primary-color-var":"--sizzle-"+r.color,name:i}})})),1)])]],2)]:e._e(),t("ResourceTabs",{attrs:{mode:e.mode},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("Tab",{attrs:{name:"related-policies",label:"Policies",weight:99},scopedSlots:e._u([{key:"default",fn:function(){return[t("ResourceTable",{attrs:{rows:e.relatedPolicies||[],headers:e.RELATED_HEADERS,groupable:!0,"group-by":e.groupPreference,"table-actions":!0,"data-testid":"kw-ps-detail-related-policies-list"},scopedSlots:e._u([{key:"col:operation",fn:function({row:r}){return[t("td",[t("BadgeState",{attrs:{"data-testid":`kw-ps-detail-${r.id}-state`,label:r.operation,color:e.color(r.operation)}})],1)]}}])})]},proxy:!0}])}),t("Tab",{staticClass:"relative",attrs:{name:"policy-tracing",label:"Tracing",weight:98}},[t("TraceTable",{attrs:{resource:e.resource,"related-policies":e.relatedPolicies}})],1),t("Tab",{staticClass:"relative",attrs:{name:"policy-metrics",label:"Metrics",weight:97},scopedSlots:e._u([{key:"default",fn:function(r){return[t("MetricsTab",{attrs:{resource:e.resource,active:r.active}})]}}])})],1)],2)},a=[],o=r("9ce4"),n=r("330a"),s=r.n(n),l=r("da25"),c=r("a8b9"),u=r("305c"),d=r("5000"),p=r("74c2"),v=r("15ca"),m=r("c422"),h=r("126f"),f=r("38de"),g=r("5191"),b=r("3f46"),y=r("00ce"),k={name:"PolicyServer",components:{CountGauge:p["a"],Loading:v["a"],MetricsTab:b["a"],ResourceTabs:m["a"],ResourceTable:h["a"],Tab:f["a"],TraceTable:y["a"]},mixins:[u["a"]],props:{mode:{type:String,default:l["t"]},resource:{type:String,default:null},value:{type:Object,required:!0}},async fetch(){const e=await Object(c["a"])({relatedPolicies:this.value.allRelatedPolicies(),policyGauges:this.value.policyGauges()}),t=(e,t)=>{s()(t)||(this[e]=t)};t("relatedPolicies",e.relatedPolicies),t("policyGauges",e.policyGauges)},data(){return{RELATED_HEADERS:g["e"],policyGauges:null,relatedPolicies:null,reloadRequired:!1}},computed:{...Object(o["a"])(["currentCluster","currentProduct"]),...Object(o["a"])({policyTraces:"kubewarden/policyTraces"}),_group:Object(d["m"])(d["e"]),filteredTraces(){return s()(this.policyTraces)?null:this.policyTraces.filter(e=>{var t;if((null===(t=this.currentCluster)||void 0===t?void 0:t.id)===e.cluster)return e})},emptyTraces(){return s()(this.filteredTraces)},groupPreference(){const e="namespace"===this._group?"kind":null;return e},relatedPoliciesTotal(){return s()(this.relatedPolicies)?0:this.relatedPolicies.length},tracesGauges(){return this.emptyTraces?null:this.value.tracesGauges(this.filteredTraces)},traceGaugeTotals(){var e;return this.emptyTraces?0:null===(e=this.filteredTraces)||void 0===e?void 0:e.flatMap(e=>e.traces).length}},methods:{hasNamespaceSelector(e){return e.namespaceSelector}}},_=k,w=(r("0929"),r("d802")),C=Object(w["a"])(_,i,a,!1,null,"d26d09bc",null);t["default"]=C.exports},"3f46":function(e,t,r){"use strict";var i=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading",{attrs:{mode:"relative"}}):t("div",[e.showChecklist?t("MetricsChecklist",{attrs:{"cattle-dashboard-ns":e.cattleDashboardNs,"controller-app":e.controllerApp,"controller-chart":e.controllerChart,"kubewarden-dashboards":e.kubewardenGrafanaDashboards,"monitoring-app":e.monitoringApp,"monitoring-chart":e.monitoringChart,"open-tel-svc":e.openTelSvc}}):e._e(),e.showChecklist?e._e():[e.monitoringApp&&!e.metricsProxy?t("Banner",{attrs:{color:"error",label:e.t("kubewarden.monitoring.warning.noProxy")}}):e._e(),e.metricsProxy&&e.active?t("DashboardMetrics",{attrs:{"data-testid":"kw-ps-metrics-dashboard","detail-url":e.metricsProxy,"summary-url":e.metricsProxy,"graph-height":"825px"}}):e._e()]],2)},a=[],o=r("9ce4"),n=r("330a"),s=r.n(n),l=r("907c"),c=r("4ac6"),u=r("b45b"),d=r("f390"),p=r("a8b9"),v=r("2359"),m=r("c389"),h=r("15ca"),f=r("6418"),g=r("90cd"),b=r("e9a3"),y=r("541d");async function k(e){const{store:t,type:r}=e;try{const e=await _(t);if(!s()(e)){const t=`/api/v1/namespaces/${e.metadata.namespace}/services`,i=`/http:${e.metadata.name}:80/proxy`,a=`/d/${r}?orgId=1&kiosk`;return t+i+a}}catch(i){Object(b["a"])({error:i,store:t,type:"warning"})}return null}async function _(e){try{return await e.dispatch("cluster/find",{type:l["y"],id:"cattle-monitoring-system/rancher-monitoring-grafana"},{root:!0})}catch(t){Object(b["a"])({error:t,store:e,type:"warning"})}}async function w(e){try{return await e.dispatch("cluster/findMatching",{type:l["b"],selector:"kubewarden/part-of=cattle-kubewarden-system"})}catch(t){Object(b["a"])({error:t,store:e,type:"warning"})}}async function C(e){const{store:t,monitoringApp:i,controllerApp:a}=e;if(i&&a){const e=Object.values(g["m"]);for(const s of e){var o;const e=await r("cb8a")(`./${s}.json`),c=s+".json",u=await w(t);if(u&&(null===u||void 0===u||null===(o=u.metadata)||void 0===o?void 0:o.name)===s)return;const d={[g["l"].DASHBOARD]:s,[g["l"].PART_OF]:a.metadata.namespace,[g["l"].APP]:"rancher-monitoring-grafana",[g["l"].GRAFANA_DASHBOARD]:"1","app.kubernetes.io/instance":i.metadata.name},p={[g["d"].NAME]:i.metadata.name,[g["d"].NAMESPACE]:i.metadata.namespace},v=await t.dispatch("cluster/create",{type:l["b"],metadata:{annotations:p,labels:d,name:s,namespace:"cattle-dashboards"},data:{[c]:JSON.stringify(e)}});try{await v.save()}catch(n){Object(b["a"])({error:n,store:t})}}}}function S(e){const t=T(e);return!!Array.isArray(t)&&(null===t||void 0===t?void 0:t.some(e=>{var t;const r=!s()(null===e||void 0===e?void 0:e.selectors)&&(null===e||void 0===e||null===(t=e.selectors)||void 0===t?void 0:t.some(e=>{for(const t in e)if(e[t]&&!0===e[t])return!0;return!1}));return e.namespace&&r}))}function T(e){const{serviceMonitorSpec:t,controllerApp:r,policyServerSvcs:i}=e;return!!t&&(null===t||void 0===t?void 0:t.map(e=>{const t={namespace:!1,selectors:[]};if(!s()(r)){var a,o,n;const i=(null===(a=e.namespaceSelector)||void 0===a||null===(o=a.matchNames)||void 0===o?void 0:o.includes(null===r||void 0===r||null===(n=r.metadata)||void 0===n?void 0:n.namespace))||!1;t.namespace=i}return s()(i)||i.forEach(r=>{var i;if(null!==(i=e.selector)&&void 0!==i&&i.matchLabels)for(const s of Object.keys(e.selector.matchLabels)){var a,o,n;const i=(null===r||void 0===r||null===(a=r.metadata)||void 0===a||null===(o=a.labels)||void 0===o?void 0:o[s])&&r.metadata.labels[s]===e.selector.matchLabels[s];null===t||void 0===t||null===(n=t.selectors)||void 0===n||n.push({[s]:!!i})}}),t}))}var A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"checklist__container"},[t("div",{staticClass:"checklist__prereq mb-20"},[t("h2",[e._v(e._s(e.t("kubewarden.monitoring.prerequisites.label")))]),t("p",[e._v(e._s(e.t("kubewarden.monitoring.prerequisites.description")))])]),t("Banner",{attrs:{color:"warning",label:e.t("kubewarden.monitoring.prerequisites.warning")}}),t("div",{staticClass:"mt-20 mb-20"},[t("div",{staticClass:"checklist__step mt-20 mb-20",attrs:{"data-testid":"kw-monitoring-checklist-step-open-tel"}},[t("i",{staticClass:"icon mr-10",class:{"icon-dot-open":!e.openTelSvc,"icon-checkmark":e.openTelSvc}}),t("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("kubewarden.tracing.openTelemetry",{},!0),expression:"t('kubewarden.tracing.openTelemetry', {}, true)"}]})]),t("div",{staticClass:"checklist__step mb-20",attrs:{"data-testid":"kw-monitoring-checklist-step-monitoring-app"}},[t("i",{staticClass:"icon mr-10",class:{"icon-dot-open":!e.monitoringApp||!e.monitoringIsConfigured,"icon-checkmark":e.monitoringApp&&e.monitoringIsConfigured}}),t("div",{staticClass:"checklist__config"},[t("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("kubewarden.monitoring.prerequisites.monitoringApp.label",{},!0),expression:"t('kubewarden.monitoring.prerequisites.monitoringApp.label', {}, true)"}],attrs:{p:""}}),e.monitoringApp&&e.monitoringIsConfigured?e._e():t("button",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.monitoringLinkTooltip,expression:"monitoringLinkTooltip"}],staticClass:"btn role-primary ml-10",attrs:{"data-testid":"kw-monitoring-checklist-step-config-button",disabled:!e.monitoringChart},on:{click:function(t){return e.monitoringAppRoute()}}},[e._v(" "+e._s(e.monitoringChartLink)+" ")])])]),t("div",{staticClass:"checklist__step mb-20",attrs:{"data-testid":"kw-monitoring-checklist-step-config-map"}},[t("i",{staticClass:"icon mr-10",class:{"icon-dot-open":e.emptyKubewardenDashboards,"icon-checkmark":!e.emptyKubewardenDashboards}}),t("div",{staticClass:"checklist__config"},[t("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("kubewarden.monitoring.prerequisites.configMap.label",{},!0),expression:"t('kubewarden.monitoring.prerequisites.configMap.label', {}, true)"}],attrs:{p:""}}),e.emptyKubewardenDashboards?t("AsyncButton",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.dashboardsTooltip,expression:"dashboardsTooltip"}],staticClass:"ml-10",attrs:{"data-testid":"kw-monitoring-checklist-step-config-map-button",mode:"grafanaDashboard",disabled:e.dashboardButtonDisabled},on:{click:e.addDashboards}}):e._e()],1)]),t("div",{staticClass:"checklist__step mb-20",attrs:{"data-testid":"kw-monitoring-checklist-step-controller-config"}},[t("i",{staticClass:"icon mr-10",class:{"icon-dot-open":!e.metricsEnabled,"icon-checkmark":e.metricsEnabled}}),t("div",{staticClass:"checklist__config"},[t("p",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("kubewarden.monitoring.prerequisites.controllerConfig.label",{},!0),expression:"t('kubewarden.monitoring.prerequisites.controllerConfig.label', {}, true)"}],attrs:{p:""}}),e.metricsEnabled?e._e():t("button",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.controllerLinkTooltip,expression:"controllerLinkTooltip"}],staticClass:"btn role-primary ml-10",attrs:{"data-testid":"kw-monitoring-checklist-step-config-button",disabled:e.controllerLinkDisabled},on:{click:function(t){return e.controllerAppRoute()}}},[e._v(" "+e._s(e.t("kubewarden.monitoring.prerequisites.controllerConfig.button"))+" ")])])])])],1)},E=[],P=r("da25"),R=r("d709"),O={props:{cattleDashboardNs:{type:Object,default:null},controllerApp:{type:Object,default:null},controllerChart:{type:Object,default:null},kubewardenDashboards:{type:Array,default:null},monitoringApp:{type:Object,default:null},monitoringChart:{type:Object,default:null},openTelSvc:{type:Object,default:null}},components:{AsyncButton:R["b"],Banner:f["a"]},computed:{...Object(o["a"])(["currentCluster"]),...Object(o["a"])({t:"i18n/t"}),controllerMetricsConfig(){var e,t,r;return this.controllerApp?null===(e=this.controllerApp.spec)||void 0===e||null===(t=e.values)||void 0===t||null===(r=t.telemetry)||void 0===r?void 0:r.metrics:null},controllerLinkDisabled(){return!this.monitoringApp||!this.monitoringIsConfigured||this.emptyKubewardenDashboards||!this.controllerChart||!this.controllerApp},controllerLinkTooltip(){return this.controllerLinkDisabled?this.t("kubewarden.monitoring.prerequisites.controllerConfig.tooltip"):this.controllerChart?null:this.t("kubewarden.monitoring.prerequisites.controllerConfig.chartError")},dashboardsTooltip(){if(!this.monitoringApp)return this.t("kubewarden.monitoring.prerequisites.configMap.tooltip.appNotInstalled");if(this.monitoringApp){if(s()(this.cattleDashboardNs))return this.t("kubewarden.monitoring.prerequisites.configMap.tooltip.nsNotFound");if(!this.monitoringIsConfigured)return this.t("kubewarden.monitoring.prerequisites.configMap.tooltip.appNotConfigured")}return null},dashboardButtonDisabled(){return!this.monitoringApp||s()(this.cattleDashboardNs)||!this.monitoringIsConfigured},emptyKubewardenDashboards(){return s()(this.kubewardenDashboards)},metricsEnabled(){return this.controllerMetricsConfig?this.controllerMetricsConfig.enabled:null},monitoringChartLink(){return this.monitoringApp?this.t("kubewarden.monitoring.prerequisites.monitoringApp.edit"):this.t("kubewarden.monitoring.prerequisites.monitoringApp.install")},monitoringLinkTooltip(){return this.monitoringChart?null:this.t("kubewarden.monitoring.prerequisites.monitoringApp.chartError")},monitoringServiceMonitorsSpec(){var e,t,r;return this.monitoringApp?null===(e=this.monitoringApp.spec)||void 0===e||null===(t=e.values)||void 0===t||null===(r=t.prometheus)||void 0===r?void 0:r.additionalServiceMonitors:null},monitoringIsConfigured(){return T({serviceMonitorSpec:this.monitoringServiceMonitorsSpec,controllerApp:this.controllerApp,policyServerSvcs:this.policyServerSvcs})}},methods:{async addDashboards(e){try{await C({store:this.$store,monitoringApp:this.monitoringApp,controllerApp:this.controllerApp}),e(!0),this.reloadRequired=!0}catch(t){Object(b["a"])({error:t,store:this.$store}),e(!1)}},monitoringAppRoute(){if(!this.monitoringApp&&this.monitoringChart&&this.monitoringChart.goToInstall(),this.monitoringApp){var e,t,r,i,a,o,n,s,l,u,d,p,v,m,h,f,g;const b={[P["g"]]:null===(e=this.monitoringApp.metadata)||void 0===e?void 0:e.namespace,[P["f"]]:null===(t=this.monitoringApp.metadata)||void 0===t?void 0:t.name,[P["q"]]:null===(r=this.monitoringApp.spec)||void 0===r||null===(i=r.chart)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.version,[P["i"]]:null===(o=this.monitoringApp.spec)||void 0===o||null===(n=o.chart)||void 0===n||null===(s=n.metadata)||void 0===s||null===(l=s.annotations)||void 0===l?void 0:l[c["c"].SOURCE_REPO_NAME],[P["j"]]:null===(u=this.monitoringApp.spec)||void 0===u||null===(d=u.chart)||void 0===d||null===(p=d.metadata)||void 0===p||null===(v=p.annotations)||void 0===v?void 0:v[c["c"].SOURCE_REPO_TYPE],[P["d"]]:null===(m=this.monitoringApp.spec)||void 0===m||null===(h=m.chart)||void 0===h||null===(f=h.metadata)||void 0===f?void 0:f.name};this.$router.push({name:"c-cluster-apps-charts-install",params:{cluster:(null===(g=this.currentCluster)||void 0===g?void 0:g.id)||"_"},query:b})}},controllerAppRoute(){if(this.controllerApp){var e,t,r,i,a,o,n,s;const l=null===(e=this.controllerApp.spec)||void 0===e||null===(t=e.chart)||void 0===t?void 0:t.metadata,u={[P["g"]]:null===l||void 0===l||null===(r=l.annotations)||void 0===r?void 0:r[c["c"].NAMESPACE],[P["f"]]:null===l||void 0===l||null===(i=l.annotations)||void 0===i?void 0:i[c["c"].RELEASE_NAME],[P["q"]]:null===l||void 0===l||null===(a=l.annotations)||void 0===a?void 0:a["catalog.cattle.io/upstream-version"],[P["i"]]:null===l||void 0===l||null===(o=l.annotations)||void 0===o?void 0:o[c["c"].SOURCE_REPO_NAME],[P["j"]]:null===l||void 0===l||null===(n=l.annotations)||void 0===n?void 0:n[c["c"].SOURCE_REPO_TYPE],[P["d"]]:null===l||void 0===l?void 0:l.name};this.$router.push({name:"c-cluster-apps-charts-install",params:{cluster:(null===(s=this.currentCluster)||void 0===s?void 0:s.id)||"_"},query:u})}}}},x=O,j=(r("e0bb0"),r("d802")),M=Object(j["a"])(x,A,E,!1,null,"0187006d",null),L=M.exports,N={props:{active:{type:Boolean,default:null},resource:{type:String,default:null}},components:{Banner:f["a"],DashboardMetrics:m["a"],Loading:h["a"],MetricsChecklist:L},mixins:[v["a"]],async fetch(){const e=[{name:l["a"].APP,property:this.allApps},{name:l["a"].CLUSTER_REPO,property:this.allRepos},{name:l["b"],property:this.allConfigMaps},{name:g["e"].POLICY_SERVER,property:this.allPolicyServers},{name:l["l"].SERVICEMONITOR,property:this.allServiceMonitors},{name:l["m"],property:this.allNamespaces},{name:l["y"],property:this.allServices}],t=[];for(const a of e)s()(a.property)&&this.$store.getters["cluster/canList"](a.name)&&t.push(this.$fetchType(a.name));if(await Object(p["a"])(t),this.showChecklist&&!this.monitoringChart&&await Object(y["a"])({store:this.$store,init:!0}),this.monitoringStatus.installed)try{var r;if(this.metricsProxy=await k({store:this.$store,type:this.METRICS_TYPE}),this.metricsProxy)this.metricsService=await Object(u["b"])("v2",this.$store,null===(r=this.currentCluster)||void 0===r?void 0:r.id,this.metricsProxy)}catch(i){const e={_statusText:"Error",message:"Error fetching Grafana Service: "+i};Object(b["a"])({error:e,store:this.$store})}},data(){const e=this.resource===g["e"].POLICY_SERVER?g["m"].POLICY_SERVER:g["m"].POLICY;return{METRICS_TYPE:e,[l["a"].APP]:null,[l["a"].CLUSTER_REPO]:null,[l["b"]]:null,[l["l"].SERVICEMONITOR]:null,[l["y"]]:null,metricsProxy:null,metricsService:null}},watch:{async grafanaService(){var e;this.metricsProxy||(this.metricsProxy=await k({store:this.$store,type:this.METRICS_TYPE}),this.metricsProxy&&(this.metricsService=await Object(u["b"])("v2",this.$store,null===(e=this.currentCluster)||void 0===e?void 0:e.id,this.metricsProxy)))}},computed:{...Object(o["a"])(["currentCluster","productId"]),...Object(o["a"])({charts:"catalog/charts"}),...Object(d["c"])(),allApps(){return this.$store.getters["cluster/all"](l["a"].APP)},allRepos(){return this.$store.getters["cluster/all"](l["a"].CLUSTER_REPO)},allConfigMaps(){return this.$store.getters["cluster/all"](l["b"])},allNamespaces(){return this.$store.getters["cluster/all"](l["m"])},allPolicyServers(){return this.$store.getters["cluster/all"](g["e"].POLICY_SERVER)},allServiceMonitors(){return this.$store.getters["cluster/all"](l["l"].SERVICEMONITOR)},allServices(){return this.$store.getters["cluster/all"](l["y"])},cattleDashboardNs(){return this.allNamespaces.find(e=>{var t;return"cattle-dashboards"===(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name)})},controllerApp(){var e;return null===(e=this.allApps)||void 0===e?void 0:e.find(e=>{var t,r,i;return(null===e||void 0===e||null===(t=e.spec)||void 0===t||null===(r=t.chart)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.name)===g["g"].CONTROLLER})},controllerChart(){var e;return null===(e=this.charts)||void 0===e?void 0:e.find(e=>e.chartName===g["g"].CONTROLLER)},grafanaService(){var e;const t=null===(e=this.allServices)||void 0===e?void 0:e.filter(e=>{var t,r;return"rancher-monitoring"===(null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r["app.kubernetes.io/instance"])});return null===t||void 0===t?void 0:t.find(e=>{var t,r;return"grafana"===(null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r["app.kubernetes.io/name"])})},kubewardenGrafanaDashboards(){return this.allConfigMaps.filter(e=>{var t,r;return null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r[g["l"].DASHBOARD]})},monitoringApp(){var e;return null===(e=this.allApps)||void 0===e?void 0:e.find(e=>{var t,r,i;return"rancher-monitoring"===(null===e||void 0===e||null===(t=e.spec)||void 0===t||null===(r=t.chart)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.name)})},monitoringChart(){var e;return null===(e=this.charts)||void 0===e?void 0:e.find(e=>"rancher-monitoring"===e.chartName)},monitoringServiceMonitorsSpec(){var e,t,r;return this.monitoringApp?null===(e=this.monitoringApp.spec)||void 0===e||null===(t=e.values)||void 0===t||null===(r=t.prometheus)||void 0===r?void 0:r.additionalServiceMonitors:null},monitoringIsConfigured(){return S({serviceMonitorSpec:this.monitoringServiceMonitorsSpec,controllerApp:this.controllerApp,policyServerSvcs:this.policyServerSvcs})},openTelemetryServices(){return this.allServices?this.allServices.filter(e=>{var t,r;return"opentelemetry-operator"===(null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r[c["g"].MANAGED_NAME])}):null},openTelSvc(){return s()(this.openTelemetryServices)?null:this.openTelemetryServices.find(e=>{var t;const r=null===e||void 0===e||null===(t=e.spec)||void 0===t?void 0:t.ports;if(r.length)return r.find(e=>8080===e.port)})},policyServerSvcs(){if(!s()(this.allPolicyServers)){const t=this.allPolicyServers.map(e=>{var t;return null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name}),r=[];for(const i of t){var e;r.push(null===(e=this.allServices)||void 0===e?void 0:e.find(e=>{var t,r;return(null===e||void 0===e||null===(t=e.metadata)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r.app)==="kubewarden-policy-server-"+i}))}return r}return null},showChecklist(){var e,t,r,i,a;const o=null===(e=this.controllerApp)||void 0===e||null===(t=e.spec)||void 0===t||null===(r=t.values)||void 0===r||null===(i=r.telemetry)||void 0===i||null===(a=i.metrics)||void 0===a?void 0:a.enabled,n=!s()(this.kubewardenGrafanaDashboards);return!this.openTelSvc||!this.monitoringApp||!o||!this.monitoringIsConfigured||!n}}},D=N,$=Object(j["a"])(D,i,a,!1,null,null,null);t["a"]=$.exports},"481f":function(e,t,r){var i=r("5eaa");t=i(!1),t.push([e.i,".sub-row[data-v-23448538]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.details[data-v-23448538]{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(0,1fr);gap:1em}.details .col[data-v-23448538]{display:flex;flex-direction:column}.details .col section[data-v-23448538]{margin-bottom:1.5rem}.details .col .title[data-v-23448538]{color:var(--muted);margin-bottom:.5rem}",""]),e.exports=t},"4ab3":function(e,t,r){var i=r("5eaa");t=i(!1),t.push([e.i,".checklist__container[data-v-3d7bccd0]{display:flex;justify-content:center;flex-direction:column;border:1px solid var(--border);padding:10px}.checklist__config[data-v-3d7bccd0],.checklist__step[data-v-3d7bccd0]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.checklist__step[data-v-3d7bccd0]{min-height:40px}",""]),e.exports=t},"50ef":function(e,t,r){var i=r("fcc6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("0ed3").default;a("78d205e8",i,!0,{sourceMap:!1,shadowMode:!1})},"5ee6":function(e,t,r){var i=r("5eaa");t=i(!1),t.push([e.i,".checklist__container[data-v-0187006d]{display:flex;justify-content:center;flex-direction:column;border:1px solid var(--border);padding:10px}.checklist__config[data-v-0187006d],.checklist__step[data-v-0187006d]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.checklist__step[data-v-0187006d]{min-height:40px}",""]),e.exports=t},"733f":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("PolicyDetail",{attrs:{value:e.value,mode:e.mode,resource:e.resource}})},a=[],o=r("da25"),n=r("80db"),s={name:"AdmissionPolicy",props:{mode:{type:String,default:o["t"]},resource:{type:String,default:null},value:{type:Object,required:!0}},components:{PolicyDetail:n["a"]}},l=s,c=r("d802"),u=Object(c["a"])(l,i,a,!1,null,null,null);t["default"]=u.exports},"80db":function(e,t,r){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"mb-20"},[t("h3",[e._v(e._s(e.t("namespace.resources")))])]),t("ResourceTabs",{attrs:{"data-testid":"kw-policy-detail-tabs",mode:e.mode,"need-related":e.hasRelationships},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[e.hasRules?t("Tab",{attrs:{name:"policy-rules",label:"Rules",weight:99}},[t("RulesTable",{attrs:{"data-testid":"kw-polity-detail-rules-table",rows:e.rulesRows}})],1):e._e(),t("Tab",{attrs:{name:"policy-tracing",label:"Tracing",weight:98}},[t("TraceTable",{attrs:{resource:e.resource,policy:e.value,"data-testid":"kw-policy-detail-trace-table"}})],1),t("Tab",{attrs:{name:"policy-metrics",label:"Metrics",weight:97},scopedSlots:e._u([{key:"default",fn:function(r){return[t("MetricsTab",{attrs:{resource:e.resource,active:r.active}})]}}])})],1)],1)},a=[],o=r("9ce4"),n=r("330a"),s=r.n(n),l=r("da25"),c=r("f390"),u=r("305c"),d=r("c422"),p=r("38de"),v=r("3f46"),m=function(){var e=this,t=e._self._c;return t("div",[e.rows.length>0?t("SortableTable",{attrs:{"data-testid":"kw-policy-rules-sortable-table",rows:e.rows,headers:e.RULE_HEADERS,"table-actions":!1,"row-actions":!1,"key-field":"traceID","default-sort-by":"startTime"},scopedSlots:e._u([{key:"col:apiGroup",fn:function({row:r}){return[t("td",[t("span",[e._v(e._s(r.apiGroups||"-"))])])]}},{key:"col:apiVersion",fn:function({row:r}){return[t("td",[t("span",[e._v(e._s(r.apiVersions||"-"))])])]}},{key:"col:operations",fn:function({row:r}){return[t("td",[t("span",[e._v(e._s(e.joinColumn(r.operations)))])])]}},{key:"col:resources",fn:function({row:r}){return[t("td",[t("span",[e._v(e._s(e.joinColumn(r.resources)))])])]}}],null,!1,1857136105)}):t("div",[t("Banner",{staticClass:"type-banner mb-20 mt-0",attrs:{color:"warning",label:e.t("kubewarden.policies.noRules")}})],1)],1)},h=[],f=r("6418"),g=r("0fb1"),b=r("5191"),y={props:{rows:{type:Array,default:()=>[]}},components:{Banner:f["a"],SortableTable:g["b"]},data(){return{RULE_HEADERS:b["f"]}},methods:{joinColumn(e){return(null===e||void 0===e?void 0:e.join(", "))||""}}},k=y,_=r("d802"),w=Object(_["a"])(k,m,h,!1,null,null,null),C=w.exports,S=r("00ce"),T={name:"PolicyDetail",components:{MetricsTab:v["a"],ResourceTabs:d["a"],RulesTable:C,Tab:p["a"],TraceTable:S["a"]},mixins:[u["a"]],props:{mode:{type:String,default:l["t"]},resource:{type:String,default:null},value:{type:Object,required:!0}},computed:{...Object(o["a"])(["currentCluster"]),...Object(c["c"])(),dashboardVars(){var e;return{policy_name:"clusterwide-"+(null===(e=this.value)||void 0===e?void 0:e.id)}},hasRelationships(){var e;return!(null===(e=this.value.metadata)||void 0===e||!e.relationships)},hasRules(){return!s()(this.rulesRows[0])},rulesRows(){var e;return null===(e=this.value.spec)||void 0===e?void 0:e.rules}}},A=T,E=Object(_["a"])(A,i,a,!1,null,null,null);t["a"]=E.exports},8445:function(e,t,r){var i=r("5ee6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("0ed3").default;a("30a7f2a2",i,!0,{sourceMap:!1,shadowMode:!1})},a3bd:function(e,t,r){var i=r("4ab3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("0ed3").default;a("b7488b5e",i,!0,{sourceMap:!1,shadowMode:!1})},b3e2:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e._self._c;return t("PolicyDetail",{attrs:{value:e.value,mode:e.mode,resource:e.resource}})},a=[],o=r("da25"),n=r("80db"),s={name:"ClusterAdmissionPolicy",props:{mode:{type:String,default:o["t"]},resource:{type:String,default:null},value:{type:Object,required:!0}},components:{PolicyDetail:n["a"]}},l=s,c=r("d802"),u=Object(c["a"])(l,i,a,!1,null,null,null);t["default"]=u.exports},c31d:function(e,t,r){"use strict";r("e438")},cb8a:function(e,t,r){var i={"./kubewarden-dashboard-policy.json":["ec40",8],"./kubewarden-dashboard-policyserver.json":["82e7",9]};function a(e){if(!r.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return r.e(t[1]).then((function(){return r.t(a,3)}))}a.keys=function(){return Object.keys(i)},a.id="cb8a",e.exports=a},e0bb0:function(e,t,r){"use strict";r("8445")},e438:function(e,t,r){var i=r("481f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=r("0ed3").default;a("56d4f326",i,!0,{sourceMap:!1,shadowMode:!1})},fcc6:function(e,t,r){var i=r("5eaa");t=i(!1),t.push([e.i,".relative[data-v-d26d09bc]{position:relative}.policy__mode[data-v-d26d09bc]{display:flex;align-items:center}.policy__mode i[data-v-d26d09bc]{margin-left:5px;font-size:22px;color:var(--warning)}.gauges[data-v-d26d09bc],.gaugesContainer[data-v-d26d09bc]{display:flex}.gauges[data-v-d26d09bc]{justify-content:space-around;flex-wrap:wrap;justify-content:left}.gauges .count-gauge[data-v-d26d09bc]{width:46%;margin-bottom:10px;flex:initial}.gauges>*[data-v-d26d09bc]{flex:1;margin-right:1.75%}",""]),e.exports=t}}]);
//# sourceMappingURL=kubewarden-1.3.0.umd.min.detail.js.map