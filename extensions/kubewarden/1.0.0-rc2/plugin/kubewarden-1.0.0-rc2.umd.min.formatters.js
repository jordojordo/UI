(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_0_0_rc2"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_0_0_rc2"]||[]).push([[3],{"00ca":function(e,t,a){var r=a("388f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("0ed3").default;o("660351f2",r,!0,{sourceMap:!1,shadowMode:!1})},"0cf2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("v-popover",{staticClass:"text-center hand",attrs:{placement:"top","open-group":e.row.id,trigger:e.show?"click":"manual",offset:"1"},scopedSlots:e._u([{key:"popover",fn:function(){return[e.show?a("table",{staticClass:"fixed"},[a("tbody",e._l(e.stateParts,(function(t){var r;return a("tr",{key:t.key},[a("td",{staticClass:"text-left pr-20",class:(r={},r[t.textColor]=!0,r)},[e._v(" "+e._s(t.label)+" ")]),a("td",{staticClass:"text-right"},[e._v(" "+e._s(t.value)+" ")])])})),0)]):e._e()]},proxy:!0}],null,!1,3622895006)},[a("ProgressBarMulti",{staticClass:"mb-5",attrs:{values:e.colorParts}}),e.linkTo?a("n-link",{attrs:{to:e.linkTo}},[e._v(" "+e._s(e.displayLabel)+" ")]):a("span",[e._v(e._s(e.displayLabel))])],1):a("div",{staticClass:"text-center text-muted"},[e._v(" â€” ")])},o=[],s=a("1d19"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],class:{progress:!0,multi:e.pieces.length>1}},e._l(e.pieces,(function(e,t){var r;return a("div",{directives:[{name:"trim-whitespace",rawName:"v-trim-whitespace"}],key:t,class:(r={piece:!0},r[e.color]=!0,r),style:e.style})})),0)},i=[],n=a("e24b"),d={props:{values:{type:Array,required:!0},colorKey:{type:String,default:"color"},labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},min:{type:Number,default:0},max:{type:Number,default:null},minPercent:{type:Number,default:5},showZeros:{type:Boolean,default:!1}},computed:{pieces(){const e=[];for(const s of this.values){const t=Object(n["g"])(s,this.colorKey),a=Object(n["g"])(s,this.labelKey),r=Object(n["g"])(s,this.valueKey);(0!==r||this.showZeros)&&e.push({color:t,label:a,value:r})}const t=this.minPercent||0,a=this.min||0;let r=this.max,o=0;this.max||(r=100,e.length&&(r=e.map(e=>e.value).reduce((e,t)=>e+t)));for(const s of e){const e=Math.max(t,c(s.value,a,r));s.percent=e,o+=e}o>100&&(Object(s["a"])(e,"percent",!0)[0].percent-=o-100);for(const s of e)s.style=`width: ${s.percent}%`;return e.filter(e=>e.percent)}}};function c(e,t,a){e=Math.max(t,Math.min(a,e));let r=e/(a-t)*100;return r=Math.floor(100*r)/100,r}var u=d,p=(a("1382"),a("d802")),f=Object(p["a"])(u,l,i,!1,null,"4b4690d8",null),v=f.exports,b=a("d892"),h={components:{ProgressBarMulti:v},props:{row:{type:Object,required:!0},label:{type:String,default:null},linkTo:{type:Object,default:null}},async fetch(){this.relatedPolicies=await this.row.allRelatedPolicies()},data(){return{relatedPolicies:[]}},computed:{show(){return this.stateParts.length>0},stateParts(){const e={};for(const a of this.relatedPolicies){var t;const r=null===(t=a.status)||void 0===t?void 0:t.policyStatus,o=Object(b["g"])(r),s=`${o}/${r}`;e[s]?e[s].value+=1:e[s]={key:s,label:r,color:o.replace(/text-/,"bg-"),textColor:o,value:1,sort:Object(b["j"])(o,r)}}return Object(s["a"])(Object.values(e),"sort:desc")},colorParts(){const e={};for(const t of this.stateParts)e[t.color]?e[t.color].value+=1:e[t.color]={color:t.color,value:t.value,sort:t.sort};return Object(s["a"])(Object.values(e),"sort:desc")},displayLabel(){const e=this.relatedPolicies.length||0;return this.label?`${this.label}, ${e}`:""+e}}},m=h,g=(a("f98b"),Object(p["a"])(m,r,o,!1,null,null,null));t["default"]=g.exports},1382:function(e,t,a){"use strict";a("4d7c")},2164:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.resourceLabels,(function(t,r){return a("span",{key:r},[e._v(" "+e._s(t)+" ")])})),0)},o=[],s={props:{col:{type:Object,default:()=>{}},value:{type:Array,default:()=>[]}},fetch(){if(this.value){const e=this.value.flatMap(e=>e[this.col.name]);e&&(this.resourceToShow=[...new Set(e)])}},data(){return{resourceToShow:null}},computed:{resourceLabels(){if(this.resourceToShow.length>1){const e=[],t=this.resourceToShow[this.resourceToShow.length-1];return this.resourceToShow.forEach(a=>{a===t?e.push(a):e.push(a+", ")}),e}return this.resourceToShow}}},l=s,i=a("d802"),n=Object(i["a"])(l,r,o,!1,null,null,null);t["default"]=n.exports},"388f":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.col-scale{position:relative}.col-scale .trigger{width:100%}.scale{margin:0;padding:0;line-height:normal}',""]),e.exports=t},4509:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.value?a("BadgeState",{attrs:{color:e.modeColor,label:e.capitalizedMode}}):e._e()],1)},o=[],s=a("f17a"),l=a("d892"),i={components:{BadgeState:s["a"]},props:{value:{type:String,default:""}},data(){return{MODE_MAP:l["c"]}},computed:{capitalizedMode(){var e,t;return(null===(e=this.value)||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===(t=this.value)||void 0===t?void 0:t.slice(1))},modeColor(){return this.MODE_MAP[this.value]}}},n=i,d=a("d802"),c=Object(d["a"])(n,r,o,!1,null,null,null);t["default"]=c.exports},"4d7c":function(e,t,a){var r=a("aab2");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("0ed3").default;o("95f5c986",r,!0,{sourceMap:!1,shadowMode:!1})},"4f57":function(e,t,a){var r=a("bbc0");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=a("0ed3").default;o("0162eff8",r,!0,{sourceMap:!1,shadowMode:!1})},"58f7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"deployment"},[e.to?a("n-link",{attrs:{to:e.to}},[e._v(" "+e._s(e.value)+" ")]):a("span",[e._v(e._s(e.value))]),e.hasErrors?a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"<div>"+e.formattedConditions+"</div>",html:!0},expression:"{ content: `<div>${ formattedConditions }</div>`, html: true }"}],staticClass:"conditions-alert-icon icon-error icon-lg"}):e._e()],1)},o=[],s=a("330a"),l=a.n(s),i=a("e24b"),n={props:{reference:{type:String,default:null},row:{type:Object,required:!0},value:{type:String,default:""}},async fetch(){this.deployment=await this.row.matchingDeployment()},data(){return{deployment:null}},computed:{hasErrors(){var e;const t=null===(e=this.flattenedConditions)||void 0===e?void 0:e.filter(e=>e.error);return!l()(t)},flattenedConditions(){var e;return null===(e=this.deployment)||void 0===e?void 0:e.flatMap(e=>e.status.conditions)},formattedConditions(){if(this.hasErrors){const e=this.flattenedConditions.filter(e=>e.error),t=[];return null===e||void 0===e||e.forEach(e=>{t.push(`<p><b>${[e.type]}</b>: ${e.message}</p>`)}),t.toString().replaceAll(",","")}return!1},to(){var e;return this.row&&this.reference?Object(i["g"])(this.row,this.reference):null===(e=this.row)||void 0===e?void 0:e.detailLocation}}},d=n,c=(a("d563"),a("d802")),u=Object(c["a"])(d,r,o,!1,null,"eeb1f93e",null);t["default"]=u.exports},"85d3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.stateDisplay?a("BadgeState",{attrs:{color:e.stateBackground,label:e.capitalizeMessage(e.stateDisplay)}}):e._e()],1)},o=[],s=a("330a"),l=a.n(s),i=a("f17a"),n=a("d892"),d={components:{BadgeState:i["a"]},props:{value:{type:Promise,required:!0}},async fetch(){const e=await this.value;if(!l()(e)){this.stateDisplay=e.map(e=>e.metadata.state.name)[0];const t=Object(n["f"])(this.stateDisplay);this.stateBackground="bg-"+t}},data(){return{stateDisplay:"",stateBackground:""}},methods:{capitalizeMessage(e){return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))}}},c=d,u=a("d802"),p=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=p.exports},aab2:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-4b4690d8]:after,.clearfix[data-v-4b4690d8]:before{content:" ";display:table}.clearfix[data-v-4b4690d8]:after{clear:both}.list-unstyled[data-v-4b4690d8]{margin:0;padding:0;list-style-type:none}.no-select[data-v-4b4690d8]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-4b4690d8]{resize:none}.hand[data-v-4b4690d8]{cursor:pointer;cursor:hand}.fixed[data-v-4b4690d8]{table-layout:fixed}.clip[data-v-4b4690d8]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-4b4690d8],.force-wrap[data-v-4b4690d8]{word-wrap:break-word}.force-wrap[data-v-4b4690d8]{white-space:normal}.bordered-section[data-v-4b4690d8]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-4b4690d8]{margin-bottom:20px;margin-top:20px}.progress[data-v-4b4690d8]{display:block;border-radius:90px;background-color:var(--progress-bg);height:10px;width:100px}.progress .piece[data-v-4b4690d8]{display:inline-block;height:10px;border-radius:0;border-right:1px solid var(--progress-divider);vertical-align:top}.progress .piece[data-v-4b4690d8]:first-child{border-top-left-radius:90px;border-bottom-left-radius:90px}.progress .piece[data-v-4b4690d8]:last-child{border-top-right-radius:90px;border-bottom-right-radius:90px;border-right:0}.piece.bg-success[data-v-4b4690d8]:only-child{opacity:.5}',""]),e.exports=t},bbc0:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-eeb1f93e]:after,.clearfix[data-v-eeb1f93e]:before{content:" ";display:table}.clearfix[data-v-eeb1f93e]:after{clear:both}.list-unstyled[data-v-eeb1f93e]{margin:0;padding:0;list-style-type:none}.no-select[data-v-eeb1f93e]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-eeb1f93e]{resize:none}.hand[data-v-eeb1f93e]{cursor:pointer;cursor:hand}.fixed[data-v-eeb1f93e]{table-layout:fixed}.clip[data-v-eeb1f93e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-eeb1f93e],.force-wrap[data-v-eeb1f93e]{word-wrap:break-word}.force-wrap[data-v-eeb1f93e]{white-space:normal}.bordered-section[data-v-eeb1f93e]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-eeb1f93e]{margin-bottom:20px;margin-top:20px}.deployment[data-v-eeb1f93e]{display:flex;align-items:center}.conditions-alert-icon[data-v-eeb1f93e]{color:var(--error);margin-left:4px}[data-v-eeb1f93e] .labeled-tooltip,[data-v-eeb1f93e] .status-icon{position:relative;display:inline;left:auto;right:auto;top:2px;bottom:auto}',""]),e.exports=t},d563:function(e,t,a){"use strict";a("4f57")},f98b:function(e,t,a){"use strict";a("00ca")}}]);
//# sourceMappingURL=kubewarden-1.0.0-rc2.umd.min.formatters.js.map